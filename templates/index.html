<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>        <!-- Header -->
        <div class="card header-card mb-4">
            <div class="card-body">
                <h1 class="display-4 mb-3">
                    <i class="fas fa-utensils"></i> Fridge 2 Plate
                </h1>
                <p class="lead">Tell us what's in your fridge and get 5 delicious meal ideas!</p>
                <p class="mb-0">Turn your ingredients into amazing recipes üç≥‚ú®</p>
            </div>
        </div>late - What to Cook with Your Ingredients</title>
    <meta name="description" content="Enter your fridge ingredients and get 5 delicious meal ideas. Perfect recipe suggestions based on what you already have!">
    <meta name="keywords" content="recipe ideas, cooking with ingredients, what to cook, meal suggestions, fridge ingredients">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://fridge2plate.com/">
    <meta property="og:title" content="Fridge 2 Plate - Recipe Ideas from Your Ingredients">
    <meta property="og:description" content="Get 5 delicious meal ideas based on ingredients you already have">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://fridge2plate.com/">
    <meta property="twitter:title" content="Fridge 2 Plate - Recipe Ideas from Your Ingredients">
    <meta property="twitter:description" content="Get 5 delicious meal ideas based on ingredients you already have">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #f5f2e8 0%, #e8dcc0 50%, #d4c4a0 100%);
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        .container {
            max-width: 800px;
        }
        
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(139, 127, 108, 0.15);
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        
        .header-card {
            background: linear-gradient(45deg, #d4c4a0, #c9b896);
            color: #5a4a3a;
            text-align: center;
        }
        
        .meal-card {
            margin-bottom: 15px;
            border-left: 4px solid #c9b896;
            transition: transform 0.2s, box-shadow 0.2s;
            background: #fefdfb;
        }
        
        .meal-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 127, 108, 0.2);
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #c9b896, #b8a586);
            border: none;
            border-radius: 25px;
            padding: 10px 30px;
            font-weight: 600;
            transition: all 0.3s;
            color: #5a4a3a;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 127, 108, 0.3);
            background: linear-gradient(45deg, #b8a586, #a69476);
            color: #4a3a2a;
        }
        
        .ingredient-tag {
            background: #f0ebe1;
            color: #6b5b4b;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            margin: 2px;
            display: inline-block;
            border: 1px solid #e0d5c1;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .spinner-border {
            color: #c9b896;
        }
        
        .ads-placeholder {
            background: #f8f6f1;
            border: 2px dashed #d4c4a0;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            color: #8a7a6a;
            margin: 20px 0;
        }
        
        .footer {
            background: rgba(212, 196, 160, 0.3);
            color: #5a4a3a;
            text-align: center;
            padding: 20px;
            margin-top: 50px;
            border-radius: 15px;
        }
        
        .form-control {
            border-radius: 10px;
            border: 2px solid #e8dcc0;
            transition: border-color 0.3s;
            background: #fefdfb;
        }
        
        .form-control:focus {
            border-color: #c9b896;
            box-shadow: 0 0 0 0.2rem rgba(201, 184, 150, 0.25);
            background: #ffffff;
        }
        
        .text-primary {
            color: #8a7a6a !important;
        }
        
        .alert-success {
            background-color: #f0ebe1;
            border-color: #d4c4a0;
            color: #6b5b4b;
        }
        
        h1, h2, h3, h4, h5, h6 {
            color: #5a4a3a;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container py-4">
        <!-- Header -->
        <div class="card header-card mb-4">
            <div class="card-body">
                <h1 class="display-4 mb-3">
                    <i class="fas fa-utensils"></i> Fridge to Fork
                </h1>
                <p class="lead">Tell us what's in your fridge and get 5 delicious meal ideas!</p>
                <p class="mb-0">Turn your ingredients into amazing recipes ÔøΩ‚ú®</p>
            </div>
        </div>

        <!-- Ad Space 1 -->
        <div class="ads-placeholder">
            <i class="fas fa-ad"></i> Advertisement Space - AdSense Integration
            <br><small>Monetize with cooking tool affiliate links & recipe app ads</small>
        </div>

        <!-- Input Form -->
        <div class="card mb-4">
            <div class="card-body">
                <h3 class="card-title mb-4">
                    <i class="fas fa-refrigerator text-primary"></i> What's in Your Fridge?
                </h3>
                
                <form id="mealForm">
                    <div class="mb-3">
                        <label for="ingredients" class="form-label">
                            <i class="fas fa-list"></i> Enter your ingredients
                        </label>
                        <textarea class="form-control" id="ingredients" rows="4" placeholder="eggs, chicken, rice, onions, tomatoes, cheese, pasta..." required></textarea>
                        <div class="form-text">List all ingredients you have available (separated by commas)</div>
                    </div>
                    
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="fas fa-magic"></i> Get My Recipe Ideas!
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Loading -->
        <div id="loading" class="loading">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
            <p class="mt-2">Finding the perfect recipes for your ingredients...</p>
        </div>

        <!-- Results -->
        <div id="results" style="display: none;">
            <div class="card mb-4">
                <div class="card-body">
                    <h3 class="card-title text-center mb-4">
                        <i class="fas fa-heart text-danger"></i> Your Perfect Recipe Ideas
                    </h3>
                    <div id="mealResults"></div>
                </div>
            </div>
        </div>

        <!-- Ad Space 2 -->
        <div class="ads-placeholder">
            <i class="fas fa-shopping-cart"></i> Cooking & Kitchen Affiliate Links
            <br><small>Amazon Kitchen Tools ‚Ä¢ Cookbooks ‚Ä¢ Ingredient Delivery partnerships</small>
        </div>

        <!-- SEO Content -->
        <div class="card mb-4">
            <div class="card-body">
                <h2>Why Fridge 2 Plate?</h2>
                <div class="row">
                    <div class="col-md-4 mb-3">
                        <h5><i class="fas fa-lightbulb text-warning"></i> Smart Cooking</h5>
                        <p>Get creative recipe ideas using ingredients you already have. No more food waste!</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <h5><i class="fas fa-clock text-info"></i> Quick & Easy</h5>
                        <p>Simple recipes with clear instructions that you can make in 30 minutes or less.</p>
                    </div>
                    <div class="col-md-4 mb-3">
                        <h5><i class="fas fa-heart text-success"></i> Personalized</h5>
                        <p>AI-powered suggestions tailored to your specific ingredients and preferences.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Popular Ingredients -->
        <div class="card mb-4">
            <div class="card-body">
                <h3>Popular Recipe Combinations</h3>
                <div class="row">
                    <div class="col-md-6">
                        <h5>With Eggs:</h5>
                        <ul>
                            <li>Egg Fried Rice</li>
                            <li>Pasta Carbonara</li>
                            <li>Vegetable Omelet</li>
                            <li>Breakfast Sandwich</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h5>With Chicken:</h5>
                        <ul>
                            <li>Chicken Stir-fry</li>
                            <li>Chicken Pasta</li>
                            <li>Chicken Soup</li>
                            <li>Chicken Salad</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>&copy; 2025 Fridge 2 Plate | Turn your ingredients into amazing recipes</p>
            <p>
                <small>
                    Recipe ideas | Cooking with ingredients | Meal suggestions | Food inspiration
                </small>
            </p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById('mealForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const ingredientsText = document.getElementById('ingredients').value;
            const ingredients = ingredientsText ? ingredientsText.split(',').map(s => s.trim()).filter(s => s) : [];
            
            if (!ingredients.length) {
                alert('Please enter at least one ingredient');
                return;
            }
            
            // Show loading
            document.getElementById('loading').style.display = 'block';
            document.getElementById('results').style.display = 'none';
            
            try {
                const response = await fetch('/get_meals', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        ingredients: ingredients
                    })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    displayMeals(data.meals, data.ingredients);
                } else {
                    throw new Error(data.error || 'Failed to get recipe ideas');
                }
                
            } catch (error) {
                console.error('Error:', error);
                alert('Sorry, there was an error getting your recipe ideas. Please try again.');
            } finally {
                document.getElementById('loading').style.display = 'none';
            }
        });
        
        function displayMeals(meals, ingredients) {
            const resultsContainer = document.getElementById('mealResults');
            
            let html = `<div class="alert alert-success text-center mb-4">
                <h5><i class="fas fa-check-circle"></i> Found ${meals.length} perfect recipes using your ingredients!</h5>
                <p class="mb-0">Using: ${ingredients.join(', ')}</p>
            </div>`;
            
            meals.forEach((meal, index) => {
                html += `
                    <div class="meal-card card">
                        <div class="card-body">
                            <div class="mb-3">
                                <h5 class="card-title mb-0">
                                    <i class="fas fa-utensils text-primary"></i> ${meal.name}
                                </h5>
                            </div>
                            
                            <div class="mb-3">
                                <h6><i class="fas fa-shopping-list"></i> Ingredients:</h6>
                                <div>
                                    ${meal.ingredients.map(ing => `<span class="ingredient-tag">${ing}</span>`).join('')}
                                </div>
                            </div>
                            
                            <div>
                                <h6><i class="fas fa-book-open"></i> Instructions:</h6>
                                <p class="text-muted">${meal.instructions}</p>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            resultsContainer.innerHTML = html;
            document.getElementById('results').style.display = 'block';
            
            // Scroll to results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
